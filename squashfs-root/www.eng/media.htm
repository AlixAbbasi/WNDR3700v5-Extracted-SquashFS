<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
<META http-equiv="Pragma" CONTENT="no-cache">
<META HTTP-EQUIV="Cache-Control" CONTENT="no-cache">	
<meta HTTP-EQUIV="Expires" CONTENT="Mon, 06 Jan 1990 00:00:01 GMT"> 

<meta name="description" content="806GA M 2073"> 

<title>media</title>
<script language="JavaScript" type="text/javascript" src="utility.js"></script>
<script language="javascript" type="text/javascript" src="linux.js"></script>
<script language="javascript" type="text/javascript" src="string.js"></script>

<script language="javascript" type="text/javascript">    
<!-- Start Script

function removeFirstLastSpace(str)
{
        return str.replace(/(^\s*)|(\s*$)/g, "");
}

function brShare(index)
{
	var archive_sub = "width=760,height=560,scrollbars,menubar,resizable,status,dependent=yes";
	
	select_win=window.open('setup.cgi?next_file=sub_folder.htm'+'&media_type='+index,'browse_folder',archive_sub);
	//select_win=window.open('sub_folder.htm','browse_folder',archive_sub);
	select_win.focus();
}

function checkBrowse(num)
{ var cf=document.forms[0]; 
	if(num==1){
		if(cf.media_av_folder_1.checked && cf.enable_ms.checked){
			cf.content_type_1.disabled=false;
			cf.do_browse_1.disabled=false;
		}
		else{
			cf.content_type_1.disabled=true;
			cf.do_browse_1.disabled=true;
		}
	}
	else if(num==2){
		if(cf.media_av_folder_2.checked && cf.enable_ms.checked){
			cf.content_type_2.disabled=false;
			cf.do_browse_2.disabled=false;
		}
		else{
			cf.content_type_2.disabled=true;
			cf.do_browse_2.disabled=true;
		}
	}
	else if(num==3){
		if(cf.media_av_folder_3.checked && cf.enable_ms.checked){
			cf.content_type_3.disabled=false;
			cf.do_browse_3.disabled=false;
		}
		else{
			cf.content_type_3.disabled=true;
			cf.do_browse_3.disabled=true;
		}
	}	
	else if(num==4){
		if(cf.media_av_folder_4.checked && cf.enable_ms.checked){
			cf.content_type_4.disabled=false;
			cf.do_browse_4.disabled=false;
		}
		else{
			cf.content_type_4.disabled=true;
			cf.do_browse_4.disabled=true;
		}
	}	
}

function setDisable()
{
	var cf=document.forms[0];

	if(cf.enable_ms.checked){
		cf.media_server_name.disabled=false;
		cf.media_av_folder_1.disabled=false;
		cf.media_av_path_1.disabled=false;
		cf.content_type_1.disabled=false;
		cf.do_browse_1.disabled=false;
		
		cf.media_av_folder_2.disabled=false;
		cf.media_av_path_2.disabled=false;
		cf.content_type_2.disabled=false;
		cf.do_browse_2.disabled=false;

		cf.media_av_folder_3.disabled=false;
		cf.media_av_path_3.disabled=false;
		cf.content_type_3.disabled=false;
		cf.do_browse_3.disabled=false;

		cf.media_av_folder_4.disabled=false;
		cf.media_av_path_4.disabled=false;
		cf.content_type_4.disabled=false;
		cf.do_browse_4.disabled=false;						
		
	}
	else{
		cf.media_server_name.disabled=true;
		cf.media_av_folder_1.disabled=true;
		cf.media_av_path_1.disabled=true;
		cf.content_type_1.disabled=true;
		cf.do_browse_1.disabled=true;
		
		cf.media_av_folder_2.disabled=true;
		cf.media_av_path_2.disabled=true;
		cf.content_type_2.disabled=true;
		cf.do_browse_2.disabled=true;

		cf.media_av_folder_3.disabled=true;
		cf.media_av_path_3.disabled=true;
		cf.content_type_3.disabled=true;
		cf.do_browse_3.disabled=true;

		cf.media_av_folder_4.disabled=true;
		cf.media_av_path_4.disabled=true;
		cf.content_type_4.disabled=true;
		cf.do_browse_4.disabled=true;						
	}
	checkBrowse(1);
	checkBrowse(2);
	checkBrowse(3);
	checkBrowse(4);		
}

function checkData()
{
 	var cf=document.forms[0];
 	var msg = "";
 	
 	if (cf.enable_ms.checked)
 	{
 	    if(!checkInvalidChars(cf.media_server_name.value, invalid_media_name_char))
 	    {
 	        alert("There are illegal characters in the Server Name of Media Server.")
            return false;
 	    }
 	    if(cf.media_server_name.value.length <= 0)
 	    {
			alert("Please specify the Server Name of Media Server.");
			return false;
		}
		if(strlen_utf8(cf.media_server_name.value)>24)
		{
			return false;	
		}
 	}
 	
 	if (cf.media_av_folder_1.checked)
 	{
 	    if (cf.media_av_path_1.value.length == 0)
 	    {
 	        msg += "Media directory_1 is empty!\n"
 	    }
 	}
 	if (cf.media_av_folder_2.checked)
 	{
 	    if (cf.media_av_path_2.value.length == 0)
 	    {
 	        msg += "Media directory_2 is empty!\n"
 	    }
 	}
 	if (cf.media_av_folder_3.checked)
 	{
 	    if (cf.media_av_path_3.value.length == 0)
 	    {
 	        msg += "Media directory_3 is empty!\n"
 	    }
 	}
 	if (cf.media_av_folder_4.checked)
 	{
 	    if (cf.media_av_path_4.value.length == 0)
 	    {
 	        msg += "Media directory_4 is empty!\n"
 	    }
 	}
 	
 	dataToHidden(cf);
	
	if (msg.length > 1)
	{
		alert(msg);
		return false;
	}
	
	return true;	
}

function init()
{
    dataToVisible(document.forms[0]);
    showMsg(); 
    setDisable();  
}
// End Script -->
</script>

<LINK REL="stylesheet" TYPE="text/css" href="form.css">
<STYLE TYPE="text/javascript">
classes.num.all.fontFamily = "Courier";
classes.num.all.fontSize = "10pt" ;
</style>

</head>

<body marginwidth="0" marginheight="0" topmargin="0" leftmargin="0" onLoad="init();loadhelp('media');disableForms(@disable_form#);" >
<form name="media" action="setup.cgi?@post_par#" method="post">
<table border="0" cellpadding="6" cellspacing="0" width="100%" bgcolor="white">
<tr class="headrow">
<td colspan="3" align="left"><h1 languageCode="3100">Media Server</h1></td>
</tr>



<tr>
<td width="100%" bgcolor="#ffffff">
<TABLE border="0" cellspacing="0" cellpadding="2">
    <tr> 
      <td width="20"><input name="enable_ms" type="checkbox"  value="@enable_ms#" onClick="setDisable()"></td>
      <td colspan="2" nowrap languageCode="3101">Enable Media Server</td>
    </tr>
    
    <tr> 
      <td>&nbsp;</td>
      <td width="120" nowrap><span languageCode="3102">Media Server Name</span>: &nbsp; </td>
      <td width="360">
         <input name="media_server_name" type="text"  value="@media_server_name#" size="32" maxlength="24" onBlur="this.value=ignoreSpaces(this.value);" > 
       </td>
     </tr>
     
     <tr> 
       <td>&nbsp;</td>
       <td colspan="2" nowrap>Content Directory:</td>
     </tr>
     
     <tr> 
        <td>&nbsp;</td>
        <td colspan="2" nowrap> <div align="center"> 
        <table width="100%" border="0" cellspacing="0" cellpadding="2">
           <tr> 
             <td width="24" nowrap>&nbsp;</td>
             <td width="220" nowrap> <div align="center">Directory</div></td>
             <td width="107" nowrap><div align="center">Media Type</div></td>
             <td nowrap>&nbsp;</td>
            </tr>
            <tr> 
              <td nowrap><input name="media_av_folder_1" type="checkbox"  value="@media_av_folder_1#" onClick="checkBrowse(1)"></td>
              <td valign="middle" nowrap>  <div align="center">
                 <input name="media_av_path_1" type="text"  value="@media_av_path_1#" size="32" maxlength="255" style="background-color: #DDDDDD" onBlur='this.value=removeFirstLastSpace(this.value)' readonly>
              </div></td>
              <td width="107" nowrap> <div align="center"> 
                 <select name="content_type_1">
                    <option value="all">All</option>
                    <option value="music">Music</option>
                    <option value="picture">Picture</option>
                    <option value="video">Video</option>
                 </select>
               </div></td>
               <td nowrap> <div align="right"> 
                   <input type="button" name="do_browse_1" value="Browse" onClick="brShare(1)" languageCode="498">
               </div></td>
               </tr>
               <tr> 
               <td nowrap><input name="media_av_folder_2" type="checkbox" value="@media_av_folder_2#" onClick="checkBrowse(2)"> 
               </td>
               <td nowrap> <div align="center"> 
                   <input name="media_av_path_2" type="text" id="media_av_path_2" value="@media_av_path_2#" size="32" maxlength="255" style="background-color: #DDDDDD" onBlur='this.value=removeFirstLastSpace(this.value)' readonly>
               </div></td>
               <td nowrap> <div align="center"> 
                <select name="content_type_2">
                   <option value="all">All</option>
                   <option value="music">Music</option>
                   <option value="picture">Picture</option>
                   <option value="video">Video</option>
                </select>
               </div></td>
               <td nowrap><div align="right"> 
                    <input type="button" name="do_browse_2" value="Browse" onClick="brShare(2)" languageCode="498">
               </div></td>
               </tr>
               <tr> 
                 <td nowrap><input name="media_av_folder_3" type="checkbox"  value="@media_av_folder_3#"  onClick="checkBrowse(3)"></td>
                 <td nowrap> <div align="center"> 
                     <input name="media_av_path_3" type="text" id="media_av_path_3" value="@media_av_path_3#" size="32" maxlength="255" style="background-color: #DDDDDD" onBlur='this.value=removeFirstLastSpace(this.value)' readonly>
                 </div></td>
                 <td nowrap> <div align="center"> 
                     <select name="content_type_3">
                       <option value="all">All</option>
                       <option value="music">Music</option>
                       <option value="picture">Picture</option>
                       <option value="video">Video</option>
                     </select>
                 </div></td>
                 <td nowrap><div align="right"> 
                      <input type="button" name="do_browse_3" value="Browse" onClick="brShare(3)" languageCode="498">
                 </div></td>
               </tr>
               <tr> 
                  <td nowrap><input name="media_av_folder_4" type="checkbox"  value="@media_av_folder_4#"  onClick="checkBrowse(4)"></td>
                  <td nowrap> <div align="center"> 
                    <input name="media_av_path_4" type="text" id="media_av_path_4" value="@media_av_path_4#" size="32" maxlength="255" style="background-color: #DDDDDD" onBlur='this.value=removeFirstLastSpace(this.value)' readonly>
                  </div></td>
                  <td nowrap> <div align="center"> 
                     <select name="content_type_4">
                        <option value="all">All</option>
                        <option value="music">Music</option>
                        <option value="picture">Picture</option>
                        <option value="video">Video</option>
                      </select>
                  </div></td>
                  <td nowrap><div align="right"> 
                       <input type="button" name="do_browse_4" value="Browse" onClick="brShare(4)" languageCode="498">
                       </div></td>
                  </tr>
                </table>
               </div></td>
              </tr>
</table>
</td>
</tr>


<tr>
<td align="center" bgcolor="#ffffff">
 <input type="submit" name="Apply" value="Apply" onClick="if(!checkData()) return false;" languageCode="18">
 <input type="RESET" name="Cancel" value="Cancel" onClick="setTimeout('dataToVisible(document.forms[0])',250)" languageCode="19">
</td>
</tr>
</table>

<input type="Hidden" name="h_enable_ms" value="@h_enable_ms#">

<input type="Hidden" name="h_media_av_folder_1" value="@h_media_av_folder_1#">
<input type="Hidden" name="h_media_av_folder_2" value="@media_av_folder_2#">
<input type="Hidden" name="h_media_av_folder_3" value="@media_av_folder_3#">
<input type="Hidden" name="h_media_av_folder_4" value="@media_av_folder_4#">

<input type="Hidden" name="h_media_av_path_1" value="@media_av_path_1#">
<input type="Hidden" name="h_media_av_path_2" value="@media_av_path_2#">
<input type="Hidden" name="h_media_av_path_3" value="@media_av_path_3#">
<input type="Hidden" name="h_media_av_path_4" value="@media_av_path_4#">

<input type="Hidden" name="h_content_type_1" value="@h_content_type_1#">
<input type="Hidden" name="h_content_type_2" value="@h_content_type_2#">
<input type="Hidden" name="h_content_type_3" value="@h_content_type_3#">
<input type="Hidden" name="h_content_type_4" value="@h_content_type_4#">

<input type="hidden" name="todo" value="save">
<input type="hidden" name="this_file" value="media.htm">
<input type="hidden" name="next_file" value="media.htm">
<input type="hidden" name="message" value="">
</form>
<script language="javascript" type="text/javascript" src="langs.js"></script>
</body>
</html>



